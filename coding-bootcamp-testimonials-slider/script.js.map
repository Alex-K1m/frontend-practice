{"version":3,"sources":["src/fm-challenges/newbie/coding-bootcamp-testimonials-slider/script.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","$testimonials","document","querySelector","$photo","$quote","$cite","$author","$position","elementsToAnimate","factor","prev","next","animations","hide","show","currentSlide","createImage","url","alt","$img","Image","src","animate","elements","animationClass","Promise","resolve","removeAnimation","element","classList","remove","removeEventListener","add","addEventListener","changeSlide","testimonials","btn","setAttribute","direction","dataset","slide","Math","abs","then","updateContent","testimonial","firstElementChild","replaceWith","textContent","quote","author","position","removeAttribute","data","async","fetch","json","err","console","log","getData","map","photoUrl","concat","querySelectorAll"],"mappings":"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","file":"script.js","sourcesContent":["const $testimonials = document.querySelector('.testimonials');\nconst $photo = $testimonials.querySelector('.photo');\nconst $quote = $testimonials.querySelector('.quote > p');\nconst $cite = $testimonials.querySelector('.quote > footer');\nconst $author = $testimonials.querySelector('.quote > footer > cite');\nconst $position = $testimonials.querySelector(\n  '.quote > footer > cite:nth-child(2)',\n);\n\nconst elementsToAnimate = [$photo, $quote, $cite];\nconst factor = { prev: -1, next: 1 };\nconst animations = {\n  hide: {\n    prev: 'hide-reverse',\n    next: 'hide',\n  },\n  show: {\n    prev: 'show-reverse',\n    next: 'show',\n  },\n};\n\nlet currentSlide = 0;\n\nconst getData = async url => {\n  try {\n    const data = await fetch(url);\n    return await data.json();\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.log('An error occur while getting data:\\n', err);\n    return null;\n  }\n};\n\nconst createImage = (url, alt) => {\n  const $img = new Image();\n  $img.src = url;\n  $img.alt = alt;\n  return $img;\n};\n\nconst animate = (elements, animationClass) =>\n  new Promise(resolve => {\n    const removeAnimation = () => {\n      elements.forEach(element => {\n        element.classList.remove(animationClass);\n      });\n      elements[0].removeEventListener('animationend', removeAnimation);\n      resolve();\n    };\n\n    elements.forEach(element => {\n      element.classList.add(animationClass);\n    });\n    elements[0].addEventListener('animationend', removeAnimation);\n  });\n\nconst updateContent = testimonial => {\n  $photo.firstElementChild.replaceWith(testimonial.$photo);\n  $quote.textContent = testimonial.quote;\n  $author.textContent = testimonial.author;\n  $position.textContent = testimonial.position;\n};\n\nconst changeSlide = testimonials => ({ target: btn }) => {\n  btn.setAttribute('disabled', true);\n  const direction = btn.dataset.slide;\n\n  currentSlide =\n    Math.abs(currentSlide + factor[direction]) % testimonials.length;\n\n  animate(elementsToAnimate, animations.hide[direction])\n    .then(() => updateContent(testimonials[currentSlide]))\n    .then(() => animate(elementsToAnimate, animations.show[direction]))\n    .then(() => btn.removeAttribute('disabled'));\n};\n\n(async () => {\n  const data = await getData('data.json');\n  if (!data) return;\n\n  const testimonials = data.testimonials.map(testimonial => ({\n    ...testimonial,\n    $photo: createImage(\n      testimonial.photoUrl,\n      `Member photo - ${testimonial.author}`,\n    ),\n  }));\n\n  document\n    .querySelectorAll('[data-slide]')\n    .forEach(btn => btn.addEventListener('click', changeSlide(testimonials)));\n})();\n"]}