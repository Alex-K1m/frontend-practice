!function e(t,n,a){function i(s,r){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,(function(e){return i(t[s][1][e]||e)}),d,d.exports,e,t,n,a)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,n){"use strict";const{$:a,animate:i,toggleDisplay:o}=e("./_utils"),s=a(".overlay"),r=a(".rules"),l=a(".modal > button"),c=e=>{e.stopPropagation();const{target:t}=e;(t===s||l.contains(t))&&i(s,"fadeOut").then(o)};l.addEventListener("click",c,!0),s.addEventListener("click",c,!0),r.addEventListener("click",()=>{o(s),i(s,"fadeIn")})},{"./_utils":2}],2:[function(e,t,n){"use strict";n.$=document.querySelector.bind(document),n.$$=document.querySelectorAll.bind(document),n.animate=(e,t)=>new Promise(n=>{const a=()=>{e.classList.remove(t),e.removeEventListener("animationend",a),n(e)};e.classList.add(t),e.addEventListener("animationend",a)}),n.delay=(e=0)=>new Promise(t=>{setTimeout(t,e)}),n.toggleDisplay=e=>{e.classList.toggle("hidden")},n.genRandomNum=(e=0,t=1)=>Math.floor(e+Math.random()*(t-e)),n.getSavedItem=e=>{try{return localStorage.getItem(e)}catch(e){if(e instanceof DOMException&&e.message.includes("localStorage"))return null;throw e}},n.saveItem=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){if(e instanceof DOMException&&e.message.includes("localStorage"))return!1;throw e}}},{}],3:[function(e,t,n){"use strict";e("./_modal");const{$:a,$$:i,animate:o,delay:s,toggleDisplay:r,genRandomNum:l,getSavedItem:c,saveItem:d}=e("./_utils"),u=a(".playField"),m=a(".result"),p=a(".result > .col:nth-child(1) > .box"),f=a(".result > .col:nth-child(2) > .box"),h=a(".status"),g=a(".score > div:nth-child(2)"),v=a(".center"),w=c("score");null===w&&console.warn("The score won't be saved between sessions as third party cookies are disabled in your browser.");let b=Number(w)||0,y=!1;g.textContent=b;const L=e=>{const t=document.createElement("div");t.classList.add("option",e);const n=a("button.option.".concat(e," > span")).cloneNode(!0);return t.append(n),t},x=[{name:"Scissors",beats:[1,3]},{name:"Paper",beats:[2,4]},{name:"Rock",beats:[3,0]},{name:"Lizard",beats:[4,1]},{name:"Spock",beats:[0,2]}].map(e=>({...e,$element:L(e.name.toLowerCase())})),E=({currentTarget:e})=>{if(y)return;y=!0;const t=e.getAttribute("aria-label"),n=x.findIndex(({name:e})=>e===t),a=l(0,x.length-1),i=x.map((e,t)=>t).filter((e,t)=>t!==n)[a],c=x[n].beats.includes(i);b+=c?1:-1,d("score",b),(async(e,t,n)=>{p.append(x[e].$element),await o(u,"fadeOut"),r(u),await s(300),r(m),await o(m,"fadeIn"),await s(800),f.append(x[t].$element),await o(x[t].$element,"flip"),await s(500),(n?p:f).classList.add("highlight"),await s(1e3),h.textContent=n?"You win":"You lose",m.classList.add("expanded"),await o(v,"expand"),o(g,"flip-scale"),await s(300),g.textContent=b})(n,i,c)};i(".playField .option").forEach(e=>{e.addEventListener("click",E)}),a(".repeat").addEventListener("click",async()=>{y&&(y=!1,await o(m,"fadeOut"),r(m),r(u),o(u,"fadeIn"),a(".highlight").classList.remove("highlight"),m.classList.remove("expanded"),p.removeChild(p.lastElementChild),f.removeChild(f.lastElementChild),y=!1)})},{"./_modal":1,"./_utils":2}]},{},[3]);
//# sourceMappingURL=script.js.map
