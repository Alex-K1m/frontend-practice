!function e(t,n,a){function r(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[o]={exports:{}};t[o][0].call(d.exports,(function(e){return r(t[o][1][e]||e)}),d,d.exports,e,t,n,a)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,t,n){"use strict";const{$:a,animate:r,toggleDisplay:i}=e("./_utils"),o=a(".overlay"),s=a(".rules"),c=a(".modal > button"),l=e=>{e.stopPropagation();const{target:t}=e;(t===o||c.contains(t))&&r(o,"fadeOut").then(i)};c.addEventListener("click",l,!0),o.addEventListener("click",l,!0),s.addEventListener("click",()=>{i(o),r(o,"fadeIn")})},{"./_utils":2}],2:[function(e,t,n){"use strict";n.$=document.querySelector.bind(document),n.$$=document.querySelectorAll.bind(document),n.animate=(e,t)=>new Promise(n=>{const a=()=>{e.classList.remove(t),e.removeEventListener("animationend",a),n(e)};e.classList.add(t),e.addEventListener("animationend",a)}),n.delay=(e=0)=>new Promise(t=>{setTimeout(t,e)}),n.toggleDisplay=e=>{e.classList.toggle("hidden")},n.genRandomNum=(e=0,t=1)=>Math.floor(e+Math.random()*(t-e))},{}],3:[function(e,t,n){"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e("./_modal");const{$:o,$$:s,animate:c,delay:l,toggleDisplay:d,genRandomNum:u}=e("./_utils"),m=o(".playField"),p=o(".result"),f=o(".result > .col:nth-child(1) > .box"),b=o(".result > .col:nth-child(2) > .box"),g=o(".status"),h=o(".score > div:nth-child(2)"),y=o(".center");let v=Number(localStorage.getItem("score"))||0,O=!1;h.textContent=v;const w=e=>{const t=document.createElement("div");t.classList.add("option",e);const n=o("button.option.".concat(e," > span")).cloneNode(!0);return t.append(n),t},L=[{name:"Scissors",beats:[1,3]},{name:"Paper",beats:[2,4]},{name:"Rock",beats:[3,0]},{name:"Lizard",beats:[4,1]},{name:"Spock",beats:[0,2]}].map(e=>r(r({},e),{},{$element:w(e.name.toLowerCase())})),E=({currentTarget:e})=>{if(O)return;O=!0;const t=e.getAttribute("aria-label"),n=L.findIndex(({name:e})=>e===t),a=u(0,L.length-1),r=L.map((e,t)=>t).filter((e,t)=>t!==n)[a],i=L[n].beats.includes(r);v+=i?1:-1,localStorage.setItem("score",v),(async(e,t,n)=>{f.append(L[e].$element),await c(m,"fadeOut"),d(m),await l(300),d(p),await c(p,"fadeIn"),await l(800),b.append(L[t].$element),await c(L[t].$element,"flip"),await l(500),(n?f:b).classList.add("highlight"),await l(1e3),g.textContent=n?"You win":"You lose",p.classList.add("expanded"),await c(y,"expand"),c(h,"flip-scale"),await l(300),h.textContent=v})(n,r,i)};s(".playField .option").forEach(e=>{e.addEventListener("click",E)}),o(".repeat").addEventListener("click",async()=>{O&&(O=!1,await c(p,"fadeOut"),d(p),d(m),c(m,"fadeIn"),o(".highlight").classList.remove("highlight"),p.classList.remove("expanded"),f.removeChild(f.lastElementChild),b.removeChild(b.lastElementChild),O=!1)})},{"./_modal":1,"./_utils":2}]},{},[3]);
//# sourceMappingURL=script.js.map
