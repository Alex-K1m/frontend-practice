!function e(t,n,a){function r(i,s){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[i]={exports:{}};t[i][0].call(d.exports,(function(e){return r(t[i][1][e]||e)}),d,d.exports,e,t,n,a)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)r(a[i]);return r}({1:[function(e,t,n){"use strict";const{$:a,animate:r,toggleDisplay:o}=e("./_utils"),i=a(".overlay"),s=a(".rules"),l=a(".modal > button"),c=e=>{e.stopPropagation();const{target:t}=e;(t===i||l.contains(t))&&r(i,"fadeOut").then(o)};l.addEventListener("click",c,!0),i.addEventListener("click",c,!0),s.addEventListener("click",()=>{o(i),r(i,"fadeIn")})},{"./_utils":2}],2:[function(e,t,n){"use strict";n.$=document.querySelector.bind(document),n.$$=document.querySelectorAll.bind(document),n.animate=(e,t)=>new Promise(n=>{const a=()=>{e.classList.remove(t),e.removeEventListener("animationend",a),n(e)};e.classList.add(t),e.addEventListener("animationend",a)}),n.delay=(e=0)=>new Promise(t=>{setTimeout(t,e)}),n.toggleDisplay=e=>{e.classList.toggle("hidden")},n.genRandomNum=(e=0,t=1)=>Math.floor(e+Math.random()*(t-e))},{}],3:[function(e,t,n){"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e("./_modal");const{$:i,$$:s,animate:l,delay:c,toggleDisplay:d,genRandomNum:u}=e("./_utils"),m=i(".playField"),p=i(".result"),f=i(".result > .col:nth-child(1) > .box"),g=i(".result > .col:nth-child(2) > .box"),b=i(".status"),h=i(".score > div:nth-child(2)"),w=i(".center");let y=window.localStorage&&Number(localStorage.getItem("score"))||0,v=!1;h.textContent=y;const O=e=>{const t=document.createElement("div");t.classList.add("option",e);const n=i("button.option.".concat(e," > span")).cloneNode(!0);return t.append(n),t},L=[{name:"Scissors",beats:[1,3]},{name:"Paper",beats:[2,4]},{name:"Rock",beats:[3,0]},{name:"Lizard",beats:[4,1]},{name:"Spock",beats:[0,2]}].map(e=>r(r({},e),{},{$element:O(e.name.toLowerCase())})),E=({currentTarget:e})=>{if(v)return;v=!0;const t=e.getAttribute("aria-label"),n=L.findIndex(({name:e})=>e===t),a=u(0,L.length-1),r=L.map((e,t)=>t).filter((e,t)=>t!==n)[a],o=L[n].beats.includes(r);y+=o?1:-1,window.localStorage&&localStorage.setItem("score",y),(async(e,t,n)=>{f.append(L[e].$element),await l(m,"fadeOut"),d(m),await c(300),d(p),await l(p,"fadeIn"),await c(800),g.append(L[t].$element),await l(L[t].$element,"flip"),await c(500),(n?f:g).classList.add("highlight"),await c(1e3),b.textContent=n?"You win":"You lose",p.classList.add("expanded"),await l(w,"expand"),l(h,"flip-scale"),await c(300),h.textContent=y})(n,r,o)};s(".playField .option").forEach(e=>{e.addEventListener("click",E)}),i(".repeat").addEventListener("click",async()=>{v&&(v=!1,await l(p,"fadeOut"),d(p),d(m),l(m,"fadeIn"),i(".highlight").classList.remove("highlight"),p.classList.remove("expanded"),f.removeChild(f.lastElementChild),g.removeChild(g.lastElementChild),v=!1)})},{"./_modal":1,"./_utils":2}]},{},[3]);
//# sourceMappingURL=script.js.map
