!function e(t,n,a){function r(i,s){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(o)return o(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[i]={exports:{}};t[i][0].call(d.exports,(function(e){return r(t[i][1][e]||e)}),d,d.exports,e,t,n,a)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<a.length;i++)r(a[i]);return r}({1:[function(e,t,n){"use strict";const{$:a,animate:r,toggleDisplay:o}=e("./_utils"),i=a(".overlay"),s=a(".rules"),c=a(".modal > button"),l=e=>{e.stopPropagation();const{target:t}=e;(t===i||c.contains(t))&&r(i,"fadeOut").then(o)};c.addEventListener("click",l,!0),i.addEventListener("click",l,!0),s.addEventListener("click",()=>{o(i),r(i,"fadeIn")})},{"./_utils":2}],2:[function(e,t,n){"use strict";n.$=document.querySelector.bind(document),n.$$=document.querySelectorAll.bind(document),n.animate=(e,t)=>new Promise(n=>{const a=()=>{e.classList.remove(t),e.removeEventListener("animationend",a),n(e)};e.classList.add(t),e.addEventListener("animationend",a)}),n.delay=(e=0)=>new Promise(t=>{setTimeout(t,e)}),n.toggleDisplay=e=>{e.classList.toggle("hidden")},n.genRandomNum=(e=0,t=1)=>Math.floor(e+Math.random()*(t-e)),n.getSavedItem=e=>{try{return localStorage.getItem(e)}catch(e){if(e instanceof DOMException&&e.message.includes("localStorage"))return null;throw e}},n.saveItem=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){if(e instanceof DOMException&&e.message.includes("localStorage"))return!1;throw e}}},{}],3:[function(e,t,n){"use strict";function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e("./_modal");const{$:i,$$:s,animate:c,delay:l,toggleDisplay:d,genRandomNum:u,getSavedItem:m,saveItem:p}=e("./_utils"),f=i(".playField"),g=i(".result"),b=i(".result > .col:nth-child(1) > .box"),h=i(".result > .col:nth-child(2) > .box"),v=i(".status"),y=i(".score > div:nth-child(2)"),w=i(".center"),O=m("score");null===O&&console.warn("The score won't be saved between sessions as third party cookies are disabled in your browser.");let L=Number(O)||0,E=!1;y.textContent=L;const x=e=>{const t=document.createElement("div");t.classList.add("option",e);const n=i("button.option.".concat(e," > span")).cloneNode(!0);return t.append(n),t},P=[{name:"Scissors",beats:[1,3]},{name:"Paper",beats:[2,4]},{name:"Rock",beats:[3,0]},{name:"Lizard",beats:[4,1]},{name:"Spock",beats:[0,2]}].map(e=>r(r({},e),{},{$element:x(e.name.toLowerCase())})),j=({currentTarget:e})=>{if(E)return;E=!0;const t=e.getAttribute("aria-label"),n=P.findIndex(({name:e})=>e===t),a=u(0,P.length-1),r=P.map((e,t)=>t).filter((e,t)=>t!==n)[a],o=P[n].beats.includes(r);L+=o?1:-1,p("score",L),(async(e,t,n)=>{b.append(P[e].$element),await c(f,"fadeOut"),d(f),await l(300),d(g),await c(g,"fadeIn"),await l(800),h.append(P[t].$element),await c(P[t].$element,"flip"),await l(500),(n?b:h).classList.add("highlight"),await l(1e3),v.textContent=n?"You win":"You lose",g.classList.add("expanded"),await c(w,"expand"),c(y,"flip-scale"),await l(300),y.textContent=L})(n,r,o)};s(".playField .option").forEach(e=>{e.addEventListener("click",j)}),i(".repeat").addEventListener("click",async()=>{E&&(E=!1,await c(g,"fadeOut"),d(g),d(f),c(f,"fadeIn"),i(".highlight").classList.remove("highlight"),g.classList.remove("expanded"),b.removeChild(b.lastElementChild),h.removeChild(h.lastElementChild),E=!1)})},{"./_modal":1,"./_utils":2}]},{},[3]);
//# sourceMappingURL=script.js.map
